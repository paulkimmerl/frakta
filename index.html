<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Dynamisches Fraktal – Julia-Menge</title>
  <style>
    body {
      margin: 0;
      background: black;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    canvas {
      border: 2px solid white;
    }
  </style>
</head>
<body>
  <canvas id="fractalCanvas" width="600" height="600"></canvas>

  <script>
    const canvas = document.getElementById("fractalCanvas");
    const ctx = canvas.getContext("2d");

    const width = canvas.width;
    const height = canvas.height;

    let reDriver = -0.7; // Startwert für Re(c)
    let imDriver = 0.270; // Startwert für Im(c)

    function drawJulia(re_c, im_c) {
      const imgData = ctx.createImageData(width, height);
      const maxIter = 300;

      for (let x = 0; x < width; x++) {
        for (let y = 0; y < height; y++) {
          // Umrechnung Pixel -> komplexe Ebene
          let zx = 3.0 * (x - width / 2) / (width / 2);
          let zy = 3.0 * (y - height / 2) / (height / 2);
          let i = 0;

          while (zx * zx + zy * zy < 4 && i < maxIter) {
            let tmp = zx * zx - zy * zy + re_c;
            zy = 2.0 * zx * zy + im_c;
            zx = tmp;
            i++;
          }

          // Farbe setzen
          const pixelIndex = (y * width + x) * 4;
          const color = i === maxIter ? 0 : (i * 10) % 255;
          imgData.data[pixelIndex] = color;        // Rot
          imgData.data[pixelIndex + 1] = color;    // Grün
          imgData.data[pixelIndex + 2] = color;    // Blau
          imgData.data[pixelIndex + 3] = 255;      // Alpha
        }
      }

      ctx.putImageData(imgData, 0, 0);
    }

    function animateFractal() {
      drawJulia(reDriver, imDriver);
      // Beide "Driver" leicht verändern → dynamisch wachsende Entwicklung
      reDriver += 0.0008;
      imDriver += 0.001;
      requestAnimationFrame(animateFractal);
    }

    animateFractal();
  </script>
</body>
</html>
